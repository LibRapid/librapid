\hypertarget{operations_8hpp_source}{}\doxysection{operations.\+hpp}
\label{operations_8hpp_source}\index{librapid/include/librapid/array/operations.hpp@{librapid/include/librapid/array/operations.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef LIBRAPID\_ARRAY\_OPERATIONS\_HPP}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define LIBRAPID\_ARRAY\_OPERATIONS\_HPP}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#define LIBRAPID\_BINARY\_FUNCTOR(NAME\_, OP\_)                                                        \(\backslash\)}}
\DoxyCodeLine{5 \textcolor{preprocessor}{    struct NAME\_ \{                                                                                 \(\backslash\)}}
\DoxyCodeLine{6 \textcolor{preprocessor}{        template<typename T, typename V>                                                           \(\backslash\)}}
\DoxyCodeLine{7 \textcolor{preprocessor}{        LIBRAPID\_NODISCARD LIBRAPID\_ALWAYS\_INLINE auto operator()(const T \&lhs,                    \(\backslash\)}}
\DoxyCodeLine{8 \textcolor{preprocessor}{                                                                  const V \&rhs) const \{            \(\backslash\)}}
\DoxyCodeLine{9 \textcolor{preprocessor}{            return lhs OP\_ rhs;                                                                    \(\backslash\)}}
\DoxyCodeLine{10 \textcolor{preprocessor}{        \}                                                                                          \(\backslash\)}}
\DoxyCodeLine{11 \textcolor{preprocessor}{                                                                                                   \(\backslash\)}}
\DoxyCodeLine{12 \textcolor{preprocessor}{        template<typename Packet>                                                                  \(\backslash\)}}
\DoxyCodeLine{13 \textcolor{preprocessor}{        LIBRAPID\_NODISCARD LIBRAPID\_ALWAYS\_INLINE auto packet(const Packet \&lhs,                   \(\backslash\)}}
\DoxyCodeLine{14 \textcolor{preprocessor}{                                                              const Packet \&rhs) const \{           \(\backslash\)}}
\DoxyCodeLine{15 \textcolor{preprocessor}{            return lhs OP\_ rhs;                                                                    \(\backslash\)}}
\DoxyCodeLine{16 \textcolor{preprocessor}{        \}                                                                                          \(\backslash\)}}
\DoxyCodeLine{17 \textcolor{preprocessor}{    \}}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#define LIBRAPID\_BINARY\_OPERATION(NAME\_, OP\_)                                                      \(\backslash\)}}
\DoxyCodeLine{20 \textcolor{preprocessor}{    template<class LHS, class RHS>                                                                 \(\backslash\)}}
\DoxyCodeLine{21 \textcolor{preprocessor}{    LIBRAPID\_NODISCARD LIBRAPID\_ALWAYS\_INLINE auto operator OP\_(LHS \&\&lhs, RHS \&\&rhs)              \(\backslash\)}}
\DoxyCodeLine{22 \textcolor{preprocessor}{      LIBRAPID\_RELEASE\_NOEXCEPT                                                                    \(\backslash\)}}
\DoxyCodeLine{23 \textcolor{preprocessor}{        -\/>detail::Function<detail::Descriptor::Trivial, detail::NAME\_, LHS, RHS> \{                 \(\backslash\)}}
\DoxyCodeLine{24 \textcolor{preprocessor}{        LIBRAPID\_ASSERT(lhs.shape() == rhs.shape(), "{}Shapes must be equal"{}});                       \(\backslash\)}
\DoxyCodeLine{25         return detail::makeFunction<detail::Descriptor::Trivial, detail::NAME\_>(                   \(\backslash\)}
\DoxyCodeLine{26           std::forward<LHS>(lhs), std::forward<RHS>(rhs));                                         \(\backslash\)}
\DoxyCodeLine{27     \}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{keyword}{namespace }librapid \{}
\DoxyCodeLine{30     \textcolor{keyword}{namespace }detail \{}
\DoxyCodeLine{31         \textcolor{keyword}{template}<Descriptor desc, \textcolor{keyword}{typename} Functor, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{32         \textcolor{keyword}{auto} makeFunction(Args \&\&...args) \{}
\DoxyCodeLine{33             \textcolor{keyword}{using} OperationType = Function<desc, Functor, Args...>;}
\DoxyCodeLine{34             \textcolor{keywordflow}{return} OperationType(Functor(), std::forward<Args>(args)...);}
\DoxyCodeLine{35         \}}
\DoxyCodeLine{36 }
\DoxyCodeLine{37         LIBRAPID\_BINARY\_FUNCTOR(Plus, +);     \textcolor{comment}{// a + b}}
\DoxyCodeLine{38         LIBRAPID\_BINARY\_FUNCTOR(Minus, -\/);    \textcolor{comment}{// a -\/ b}}
\DoxyCodeLine{39         LIBRAPID\_BINARY\_FUNCTOR(Multiply, *); \textcolor{comment}{// a * b}}
\DoxyCodeLine{40         LIBRAPID\_BINARY\_FUNCTOR(Divide, /);   \textcolor{comment}{// a / b}}
\DoxyCodeLine{41 }
\DoxyCodeLine{42     \} \textcolor{comment}{// namespace detail}}
\DoxyCodeLine{43 }
\DoxyCodeLine{44     LIBRAPID\_BINARY\_OPERATION(Plus, +)}
\DoxyCodeLine{45     LIBRAPID\_BINARY\_OPERATION(Minus, -\/)}
\DoxyCodeLine{46     LIBRAPID\_BINARY\_OPERATION(Multiply, *)}
\DoxyCodeLine{47     LIBRAPID\_BINARY\_OPERATION(Divide, /)}
\DoxyCodeLine{48 \} \textcolor{comment}{// namespace librapid}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// LIBRAPID\_ARRAY\_OPERATIONS\_HPP}}

\end{DoxyCode}
